<div class="erweima">
  <div class="erweima-container">
    <!-- <img src="assets/erweima.jpg"> -->
    <div class="erweima-link">
      <a href="/">返回首页</a>
      <a href="javascript:;">已有账号？去登陆</a>
    </div>
    <div class="erweima-inner">
      <div class="erweima-logo">
        <img src="assets/logo.png">
        <div>一起拼手气</div>
        <a *ngIf="flag" class="qrcode" (click)="change_flag()">
          <span>扫码登录</span>
        </a>
        <a *ngIf="!flag" class="screen" (click)="change_flag()">
          <span>密码登录</span>
        </a>
      </div>
      <div class="erweima-form">
        <div *ngIf="!flag" class="erweima-erweima">
          <div>1秒即登录，方便又安全</div>
          <div>
            <nz-spin></nz-spin>
            <img [src]="erweima">
          </div>
        </div>
        <form *ngIf="flag" nz-form [formGroup]="form" (ngSubmit)="submit()" role="form">
          <nz-tabset [(nzSelectedIndex)]="selectedIndex">
            <nz-tab nzTitle="普通登录">
              <nz-form-item>
                <nz-form-control nzErrorTip="请输入账号！">
                  <nz-input-group nzSize="large" nzPrefixIcon="user">
                    <input nz-input type="text" formControlName="userName" placeholder="账号" />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-control nzErrorTip="请输入密码！">
                  <nz-input-group nzSize="large" nzPrefixIcon="lock">
                    <input nz-input type="password" formControlName="password" placeholder="密码" />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </nz-tab>
            <nz-tab nzTitle="手机登录">
              <nz-form-item>
                <nz-form-control [nzErrorTip]="mobileErrorTip">
                  <nz-input-group nzSize="large" nzPrefixIcon="user">
                    <input nz-input type="text" formControlName="mobile" placeholder="手机号" />
                  </nz-input-group>
                  <ng-template #mobileErrorTip let-i>
                    <ng-container *ngIf="i.errors.required">
                      请输入手机号！
                    </ng-container>
                    <ng-container *ngIf="i.errors.pattern">
                      手机号格式错误！
                    </ng-container>
                  </ng-template>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-control nzErrorTip="请输入验证码！">
                  <nz-row [nzGutter]="8">
                    <nz-col [nzSpan]="16">
                      <nz-input-group nzSize="large" nzPrefixIcon="mail">
                        <input nz-input formControlName="captcha" placeholder="验证码" />
                      </nz-input-group>
                    </nz-col>
                    <nz-col [nzSpan]="8">
                      <button type="button" nz-button nzSize="large" (click)="get_captcha()" [disabled]="count" nzBlock
                        [nzLoading]="captchaLoading">
                        {{ count ? count + 's' : '获取验证码' }}
                      </button>
                    </nz-col>
                  </nz-row>
                </nz-form-control>
              </nz-form-item>
            </nz-tab>
          </nz-tabset>
          <nz-form-item>
            <button nz-button type="submit" nzType="primary" nzSize="large" [nzLoading]="loading" nzBlock>登录</button>
          </nz-form-item>
        </form>
      </div>
      <div class="erweima-footer">
        <div>
          <span class="ant-Mright">帮助</span>
          <span class="ant-Mright">隐私</span>
          <span>条款</span>
        </div>
        <div>Copyright©2020 Juphy出品</div>
      </div>
    </div>
  </div>
</div>