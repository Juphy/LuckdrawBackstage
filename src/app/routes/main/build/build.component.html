<div>
  <form nz-form [formGroup]="validateForm">
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品图片</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <div class="clearfix">
          <nz-upload nzListType="picture-card" [(nzFileList)]="fileList" [nzShowUploadList]="showUploadList"
            [nzPreview]="handlePreview" [nzBeforeUpload]="beforeUpload">
            <i nz-icon nzType="plus"></i>
          </nz-upload>
          <nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null"
            (nzOnCancel)="previewVisible = false">
            <ng-template #modalContent>
              <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
            </ng-template>
          </nz-modal>
        </div>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品名称</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="请输入产品名称！">
          <input type="text" nz-input formControlName="name" placeholder="请输入产品名称">
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品分类</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="请选择产品分类！">
        <nz-select formControlName="category_id" nzPlaceHolder="选择产品分类" nzShowSearch nzAllowClear>
          <nz-option *ngFor="let p of CategoryList" [nzValue]="p.id" [nzLabel]="p.category_name"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品分组</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="请选择产品分组！">
        <nz-select formControlName="groups" nzPlaceHolder="选择产品分组" nzMode="multiple" nzAllowClear>
          <nz-option *ngFor="let p of GroupList" [nzValue]="p.id" [nzLabel]="p.name"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品简介</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-form-control nzErrorTip="请输入产品简介！">
          <textarea rows="4" nz-input formControlName="description" placeholder="请输入产品简介"></textarea>
        </nz-form-control>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>投递方式</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-form-control nzErrorTip="请选择投递方式！">
          <nz-radio-group formControlName="send_type">
            <label nz-radio *ngFor="let s of SendTypeList" [nzValue]="s.value">{{s.name}}</label>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>产品详情</nz-form-label>
      <nz-form-control [nzSpan]="16">
        <nz-form-control>
          <div id="rule" style="min-height: 500px"></div>
        </nz-form-control>
      </nz-form-control>
    </nz-form-item>
  </form>
  <nz-row>
    <nz-col nzSpan="16" nzOffset="6">
      <button nz-button nzType="primary" (click)="make_sure()" class="ant-Mright" [nzLoading]="loading">确定</button>
      <button nz-button (click)="make_cancel()">取消</button>
    </nz-col>
  </nz-row>
</div>
